/*! Copyright 2025 Adobe
All Rights Reserved. */
import{D as i,b as n,d as s}from"./chunks/searchProducts.js";import{h as p,i as v,r as A,a as D,e as E,f as H}from"./chunks/searchProducts.js";import{Initializer as d}from"@dropins/tools/lib.js";import{events as l}from"@dropins/tools/event-bus.js";import{setFetchGraphQlHeader as m}from"@dropins/tools/fetch-graphql.js";const a={Aurora:{id:"b726c1e9-2842-4ab5-9b19-ca65c23bbb3b",value:"Aurora",models:["Flux","Nexus","Nova","Prism","Pulse"]},Bolt:{id:"552fb8e1-978f-42c5-aab2-d96642e436d8",value:"Bolt",models:["Atlas","Mammoth","Ranger","Scout","Terrain"]},Cruz:{id:"7140c0dc-0abf-4817-91ad-22f4edceeb85",value:"Cruz",models:["Breeze","Echo","Element","Harmony","Verde"]}},f=e=>{const o=a[e];window.localStorage.setItem(i,JSON.stringify(o))},h=(e,o)=>{if(e==="Brand"){console.log("brand changed");const t=a[o];n("AC-Channel-Id",t.id),n("AC-Price-Book-Id",t.value.toLowerCase())}e==="Model"&&(console.log("model changed"),a[o])},g=()=>{let e=window.localStorage.getItem(s);return e?JSON.parse(e):(e=JSON.stringify(a),window.localStorage.setItem(s,e),a)},c=new d({init:async e=>{const t={demo:g(),storefront:{},search:{}};c.config.setConfig({...t,...e})},listeners:()=>[l.on("search/event",({type:e,payload:o})=>{if(e==="Brand"&&f(o),e==="Model"&&window.localStorage.setItem("_demo:model",o),e==="PriceBook"){const r=o;window.localStorage.setItem("_demo:price-book",r),m("AC-Price-Book-Id",r.toLowerCase())}h(e,o)})]}),B=c.config;export{B as config,p as fetchGraphQl,v as getConfig,c as initialize,A as removeFetchGraphQlHeader,D as searchProducts,E as setEndpoint,n as setFetchGraphQlHeader,H as setFetchGraphQlHeaders};
